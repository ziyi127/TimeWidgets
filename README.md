# æ™ºæ…§è¯¾ç¨‹è¡¨ (Time Widgets)

ä¸€æ¬¾åŸºäº Flutter çš„æ™ºèƒ½è¯¾ç¨‹è¡¨æ¡Œé¢åº”ç”¨ï¼Œä¸ºå­¦ç”Ÿæä¾›è¯¾ç¨‹ç®¡ç†ã€å¤©æ°”ä¿¡æ¯ã€å€’è®¡æ—¶ç­‰åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“… **è¯¾ç¨‹è¡¨ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘å’Œç®¡ç†æ¯æ—¥è¯¾ç¨‹å®‰æ’
- â° **æ—¶é—´æ˜¾ç¤º** - å®æ—¶æ˜¾ç¤ºå½“å‰æ—¶é—´å’Œæ—¥æœŸ
- ğŸŒ¤ï¸ **å¤©æ°”ä¿¡æ¯** - æ˜¾ç¤ºå½“å‰å¤©æ°”çŠ¶å†µå’Œæ¸©åº¦
- â³ **å€’è®¡æ—¶ç®¡ç†** - æ”¯æŒå¤šä¸ªå€’è®¡æ—¶äº‹ä»¶ï¼ˆè€ƒè¯•ã€æˆªæ­¢æ—¥æœŸç­‰ï¼‰
- ğŸ“Š **å‘¨æ¬¡æ˜¾ç¤º** - æ˜¾ç¤ºå½“å‰å‘¨æ¬¡å’Œå•åŒå‘¨ä¿¡æ¯
- ğŸ”„ **æ•°æ®å¯¼å…¥å¯¼å‡º** - æ”¯æŒ JSON æ ¼å¼å¯¼å…¥å¯¼å‡ºï¼Œå…¼å®¹ ClassIsland
- ğŸ¨ **Material Design 3** - ç°ä»£åŒ– UI è®¾è®¡ï¼Œæ”¯æŒæµ…è‰²/æ·±è‰²ä¸»é¢˜
- ğŸ’¾ **æœ¬åœ°å­˜å‚¨** - æ•°æ®è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°

## ğŸ“¸ æˆªå›¾

*åº”ç”¨ç•Œé¢æˆªå›¾*

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Flutter SDK >= 3.10.0
- Dart SDK >= 3.0.0
- Windows 10/11 (æ¡Œé¢åº”ç”¨)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/your-username/time_widgets.git
   cd time_widgets
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   flutter pub get
   ```

3. **è¿è¡Œåº”ç”¨**
   ```bash
   flutter run -d windows
   ```

### æ„å»ºå‘å¸ƒç‰ˆæœ¬

```bash
flutter build windows --release
```

æ„å»ºäº§ç‰©ä½äº `build/windows/runner/Release/` ç›®å½•ã€‚

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ä¸»ç•Œé¢

ä¸»ç•Œé¢æ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š
- å½“å‰æ—¶é—´å’Œæ—¥æœŸ
- å½“å‰å‘¨æ¬¡ï¼ˆå•å‘¨/åŒå‘¨ï¼‰
- å¤©æ°”ä¿¡æ¯
- å½“å‰è¯¾ç¨‹
- å€’è®¡æ—¶äº‹ä»¶
- ä»Šæ—¥è¯¾ç¨‹è¡¨

### è¯¾ç¨‹è¡¨ç¼–è¾‘

1. ç‚¹å‡»è®¾ç½®å›¾æ ‡è¿›å…¥è®¾ç½®é¡µé¢
2. åœ¨è¯¾ç¨‹è¡¨ç¼–è¾‘ç•Œé¢å¯ä»¥ï¼š
   - æ·»åŠ /ç¼–è¾‘/åˆ é™¤è¯¾ç¨‹
   - è®¾ç½®æ—¶é—´æ®µ
   - é…ç½®æ¯æ—¥è¯¾ç¨‹å®‰æ’
   - è®¾ç½®å•åŒå‘¨è¯¾ç¨‹

### å€’è®¡æ—¶ç®¡ç†

1. åœ¨ä¸»ç•Œé¢ç‚¹å‡»å€’è®¡æ—¶å¡ç‰‡çš„"æŸ¥çœ‹å…¨éƒ¨"
2. å¯ä»¥æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å€’è®¡æ—¶äº‹ä»¶
3. æ”¯æŒçš„äº‹ä»¶ç±»å‹ï¼šè€ƒè¯•ã€æˆªæ­¢æ—¥æœŸã€äº‹ä»¶ã€ä»»åŠ¡

### æ•°æ®å¯¼å…¥å¯¼å‡º

**å¯¼å‡ºè¯¾è¡¨æ•°æ®ï¼š**
1. è¿›å…¥è¯¾ç¨‹è¡¨ç¼–è¾‘ç•Œé¢
2. ç‚¹å‡»èœå• â†’ å¯¼å‡ºè¯¾è¡¨
3. é€‰æ‹©ä¿å­˜ä½ç½®

**å¯¼å…¥è¯¾è¡¨æ•°æ®ï¼š**
1. è¿›å…¥è¯¾ç¨‹è¡¨ç¼–è¾‘ç•Œé¢
2. ç‚¹å‡»èœå• â†’ å¯¼å…¥è¯¾è¡¨
3. é€‰æ‹© JSON æ–‡ä»¶

**ä» ClassIsland å¯¼å…¥ï¼š**
1. è¿›å…¥è¯¾ç¨‹è¡¨ç¼–è¾‘ç•Œé¢
2. ç‚¹å‡»èœå• â†’ ä» ClassIsland å¯¼å…¥
3. é€‰æ‹© ClassIsland å¯¼å‡ºçš„ JSON æ–‡ä»¶

### è®¾ç½®

åœ¨è®¾ç½®é¡µé¢å¯ä»¥é…ç½®ï¼š
- **ä¸»é¢˜è®¾ç½®**
  - ä¸»é¢˜æ¨¡å¼ï¼ˆè·Ÿéšç³»ç»Ÿ/æµ…è‰²/æ·±è‰²ï¼‰
  - ç§å­é¢œè‰²è‡ªå®šä¹‰ï¼ˆMaterial You åŠ¨æ€å–è‰²ï¼‰
  - åŠ¨æ€é¢œè‰²å¼€å…³
- è¯­è¨€ï¼ˆä¸­æ–‡/Englishï¼‰
- å­¦æœŸå¼€å§‹æ—¥æœŸï¼ˆç”¨äºè®¡ç®—å‘¨æ¬¡ï¼‰
- é€šçŸ¥å¼€å…³
- æ•°æ®åˆ·æ–°é—´éš”

### ä¸»é¢˜è‡ªå®šä¹‰

åº”ç”¨æ”¯æŒ Material Design 3 çš„åŠ¨æ€é¢œè‰²ç³»ç»Ÿï¼ˆMaterial Youï¼‰ï¼š

**æ›´æ”¹ç§å­é¢œè‰²ï¼š**
1. è¿›å…¥è®¾ç½®é¡µé¢
2. åœ¨"ä¸»é¢˜è®¾ç½®"éƒ¨åˆ†æ‰¾åˆ°"ç§å­é¢œè‰²"
3. ç‚¹å‡»é¢œè‰²é€‰æ‹©å™¨ï¼Œä» 18 ç§é¢„è®¾é¢œè‰²ä¸­é€‰æ‹©
4. æˆ–ç‚¹å‡»"è‡ªå®šä¹‰é¢œè‰²"é€‰æ‹©ä»»æ„é¢œè‰²
5. åº”ç”¨ä¼šå®æ—¶é¢„è§ˆæ–°çš„é…è‰²æ–¹æ¡ˆ

**ä¸»é¢˜æ¨¡å¼é€‰é¡¹ï¼š**
- **è·Ÿéšç³»ç»Ÿ**ï¼šæ ¹æ®ç³»ç»Ÿè®¾ç½®è‡ªåŠ¨åˆ‡æ¢æµ…è‰²/æ·±è‰²ä¸»é¢˜
- **æµ…è‰²æ¨¡å¼**ï¼šå§‹ç»ˆä½¿ç”¨æµ…è‰²ä¸»é¢˜
- **æ·±è‰²æ¨¡å¼**ï¼šå§‹ç»ˆä½¿ç”¨æ·±è‰²ä¸»é¢˜

**åŠ¨æ€é¢œè‰²åŠŸèƒ½ï¼š**
- å¼€å¯åï¼Œåº”ç”¨ä¼šæ ¹æ®ç§å­é¢œè‰²ç”Ÿæˆå®Œæ•´çš„é…è‰²æ–¹æ¡ˆ
- å…³é—­åï¼Œä½¿ç”¨ç³»ç»Ÿé»˜è®¤é¢œè‰²
- æ‰€æœ‰ UI ç»„ä»¶éƒ½ä¼šè‡ªåŠ¨é€‚é…æ–°çš„é…è‰²æ–¹æ¡ˆ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ main.dart              # åº”ç”¨å…¥å£
â”œâ”€â”€ models/                # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ course_model.dart
â”‚   â”œâ”€â”€ countdown_model.dart
â”‚   â”œâ”€â”€ settings_model.dart
â”‚   â”œâ”€â”€ timetable_edit_model.dart
â”‚   â””â”€â”€ weather_model.dart
â”œâ”€â”€ screens/               # é¡µé¢
â”‚   â”œâ”€â”€ home_screen.dart
â”‚   â”œâ”€â”€ settings_screen.dart
â”‚   â”œâ”€â”€ countdown_list_screen.dart
â”‚   â””â”€â”€ timetable_edit_screen.dart
â”œâ”€â”€ services/              # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ api_service.dart
â”‚   â”œâ”€â”€ cache_service.dart
â”‚   â”œâ”€â”€ settings_service.dart
â”‚   â”œâ”€â”€ countdown_storage_service.dart
â”‚   â”œâ”€â”€ timetable_export_service.dart
â”‚   â””â”€â”€ week_service.dart
â”œâ”€â”€ utils/                 # å·¥å…·ç±»
â”‚   â”œâ”€â”€ error_handler.dart
â”‚   â””â”€â”€ time_slot_utils.dart
â””â”€â”€ widgets/               # ç»„ä»¶
    â”œâ”€â”€ countdown_widget.dart
    â”œâ”€â”€ timetable_widget.dart
    â”œâ”€â”€ weather_widget.dart
    â””â”€â”€ ...
```

## ğŸ§ª æµ‹è¯•

è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼š
```bash
flutter test
```

è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶ï¼š
```bash
flutter test test/property_tests/
```

## ğŸ“ æ•°æ®æ ¼å¼

### è¯¾è¡¨ JSON æ ¼å¼

```json
{
  "courses": [
    {
      "id": "1",
      "name": "è¯­æ–‡",
      "teacher": "å¼ è€å¸ˆ",
      "classroom": "101",
      "color": "#2196F3"
    }
  ],
  "timeSlots": [
    {
      "id": "1",
      "startTime": "08:00",
      "endTime": "08:45",
      "name": "ç¬¬ä¸€èŠ‚è¯¾"
    }
  ],
  "dailyCourses": [
    {
      "id": "1",
      "dayOfWeek": 0,
      "timeSlotId": "1",
      "courseId": "1",
      "weekType": 2
    }
  ]
}
```

### å­—æ®µè¯´æ˜

- `dayOfWeek`: 0-6 åˆ†åˆ«è¡¨ç¤ºå‘¨ä¸€åˆ°å‘¨æ—¥
- `weekType`: 0=å•å‘¨, 1=åŒå‘¨, 2=æ¯å‘¨

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Flutter](https://flutter.dev/) - UI æ¡†æ¶
- [Material Design 3](https://m3.material.io/) - è®¾è®¡è§„èŒƒ
- [ClassIsland](https://github.com/ClassIsland/ClassIsland) - æ•°æ®æ ¼å¼å…¼å®¹
